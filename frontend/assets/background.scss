@use 'variables';

.background {
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: variables.$danger;
  z-index: -1;

  .background-item {
    position: fixed;
    width: 100%;
    height: 100vh;

    &__internal-wrapper {
      position: relative;
      height: 100%;
      width: 100%;
    }
    
    &__photo {
      position: absolute;
      top: -50%;
      // transform: translateY(-100vh);

      @for $i from 1 through 31 {
        $rotate-size: 1;
        @if $i % 2 == 0 {
          $rotate-size: 1;
        } @else {
          $rotate-size: -1;
        }
        &:nth-child(#{$i}) {
          --left-start: #{random(20) - 10}vw;
          --left-end: #{random(20) - 10}vw;
          --rotate-start: #{random(90) * $rotate-size}deg;
          --rotate-end: #{random(90) * $rotate-size}deg;
          left: #{random(100)}vw;
          animation: animate #{$i + random(10)}s linear infinite;
          animation-delay: #{random(6)}s;
        }
      }
    }

    // @for $j from 2 through 5 {
    //   &:nth-child(#{$j}) {
    //     .background-item__photo {
    //       img {
    //         width: calc(25px * $j);
    //       }
    //       // scale: calc(1 / $j);
    //       // top: -25%;
    //       // animation-delay: random(4) + s;
    //       filter: blur(2px);
    //       z-index: -$j;
    //     }
    //   }
    // }
  }
}

@keyframes animate {
  0% {
    transform: translateX(var(--left-start)) rotate(var(--rotate-start));
  }
  100% {
    transform: translateX(var(--left-end)) rotate(var(--rotate-end));
    top: 100%;
  }
}